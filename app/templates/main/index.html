<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Página Inicial - Plataforma de Apostas</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/styles.css') }}">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/sweetalert2@11/dist/sweetalert2.min.css">
</head>

<body>
    <!-- Cabeçalho -->
    <header class="top-nav">
        <div class="logo">Minha Plataforma</div>
        <nav>
            <ul>
                <li><a href="#">Cassino</a></li>
                <li><a href="#">Esportes</a></li>
            </ul>
        </nav>
        <div class="auth-buttons">
            <button class="login-btn" onclick="openLoginPopup()">Entrar</button>
            <button class="signup-btn" onclick="openSignupPopup()">Cadastre-se</button>
        </div>
    </header>

    <div class="main-container">
        <!-- Sidebar -->
        <aside class="sidebar">
            <button class="create-bet-btn" onclick="window.location.href='/addNewEvent'">Criar Aposta</button>
            <ul class="menu">
                <li>
                    <h3>Final Campeonato</h3>
                    <p>Restam 2 dias para o fim das apostas.</p>
                    <button class="bet-btn">Apostar</button>
                </li>
                <li>
                    <h3>Eleição Presidencial</h3>
                    <p>Restam 5 dias para o fim das apostas.</p>
                    <button class="bet-btn">Apostar</button>
                </li>
                <li>
                    <h3>Bolsa de Valores</h3>
                    <p>Ações subindo ou caindo em 24 horas.</p>
                    <button class="bet-btn">Apostar</button>
                </li>
                <li>
                    <h3>Olimpíadas - Natação</h3>
                    <p>Quem ganhará o ouro?</p>
                    <button class="bet-btn">Apostar</button>
                </li>
            </ul>
        </aside>

        <!-- Conteúdo principal -->
        <main class="content">
            <!-- Card principal de boas-vindas -->
            <section class="welcome-card">
                <div class="card">
                    <h1>Bem-vindo à Plataforma de Apostas!</h1>
                    <p>Cadastre-se e receba bônus de depósito de até R$ 1.000!</p>
                    <div class="action-buttons">
                        <button class="signup-btn-large" onclick="openSignupPopup()">CADASTRE-SE</button>
                        <button class="google-btn">G</button>
                    </div>
                </div>
            </section>

            <!-- Seção de categorias e links -->
            <section class="categories-cards">
                <div class="card">
                    <h2>Cassino</h2>
                    <p>Aproveite nossa seleção exclusiva de slots, dealers ao vivo e jogos originais.</p>
                    <button class="category-btn">IR AO CASSINO</button>
                </div>
                <div class="card">
                    <h2>Esportes</h2>
                    <p>Nossas apostas esportivas intuitivas são feitas para jogadores novos e experientes.</p>
                    <button class="category-btn">IR PARA ESPORTES</button>
                </div>
            </section>
        </main>
    </div>

    <!-- Popup de Cadastro -->
    <div id="signupPopup" class="popup">
        <div class="popup-content">
            <span class="close" onclick="closePopup('signupPopup')">&times;</span>
            <h2>Cadastre-se na Plataforma</h2>
            <form action="{{ url_for('auth.register') }}" method="POST">
                <input type="text" name="nome" placeholder="Nome" required>
                <input type="email" name="email" placeholder="Endereço de Email" required>
                <input type="password" name="senha" placeholder="Senha" required>
                <input type="date" name="data_nascimento" placeholder="Data de Nascimento" required>
                <div class="terms">
                    <p>Ao se inscrever você concorda com os <a href="#">Termos de Serviço</a></p>
                </div>
                <button type="submit" class="submit-btn">Comece já!</button>
            </form>
        </div>
    </div>

    <!-- Popup de Login -->
    <div id="loginPopup" class="popup">
        <div class="popup-content">
            <span class="close" onclick="closePopup('loginPopup')">&times;</span>
            <h2>Login na Plataforma</h2>
            <form action="{{ url_for('auth.login') }}" method="POST"> <!-- Envia o formulário para a rota /login -->
                <input type="email" name="email" placeholder="Endereço de Email" required>
                <input type="password" name="senha" placeholder="Senha" required>

                <button type="submit" class="submit-btn">Entrar</button>
            </form>
        </div>
    </div>

    <footer>
        <div class="footer-content">
            <p>Método de Pagamento Preferido</p>
        </div>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

    <script>
        function showSuccessMessage() {
            Swal.fire({
                title: 'Sucesso!',
                text: 'Login realizado com sucesso.',
                icon: 'success',
                confirmButtonText: 'OK'
            });
        }

        function showFailureMessage() {
            Swal.fire({
                title: 'Error!',
                text: 'Email ou Senha invalida.',
                icon: 'error',
                confirmButtonText: 'OK'
            });
        }
    </script>

    <script>
        var success = {{ session.pop('success', False) | tojson }};
        if (success) {
            showSuccessMessage();
        }

        var error = {{ session.pop('error', False) | tojson }};
        if (error) {
            showFailureMessage();
        }
    </script>

    <script>
        // Funções para abrir e fechar os popups
        function openSignupPopup() {
            document.getElementById("signupPopup").style.display = "block";
        }

        function openLoginPopup() {
            document.getElementById("loginPopup").style.display = "block";
        }

        function closePopup(popupId) {
            document.getElementById(popupId).style.display = "none";
        }
    </script>
</body>

</html>